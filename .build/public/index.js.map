{
  "version": 3,
  "sources": ["../../public/index.js"],
  "sourcesContent": ["fetch('/stats')\n  .then(r => r.json())\n  .then(render);\n\nconst COLORS = {\n  POP: 'rgba(255, 99, 132, 0.4)',\n  UPW: 'rgba(54, 162, 235, 0.4)',\n  FRE: 'rgba(255, 206, 86, 0.4)',\n};\n\nconst NAMES = {\n  POP: 'Poplar',\n  UPW: 'Upper Walls',\n  FRE: 'Fremont',\n};\n\nfunction render(stats) {\n  stats = stats.reduce((acc, v) => {\n    const keys = Object.keys(v);\n    const time = v['time'];\n    for (const key of keys) {\n      if (key === 'time')\n        continue;\n\n      if (!acc[key]) {\n        acc[key] = {\n          label: NAMES[key],\n          borderColor: COLORS[key],\n          backgroundColor: COLORS[key],\n          pointRadius: 0.2,\n          tension: 0.1,\n          fill: false,\n          data: []\n        }\n      }\n      acc[key].data.push({\n        x: time,\n        y: v[key],\n      });\n    }\n    return acc;\n  }, {});\n  \n  const chartConfig = {\n    type: 'line',\n    data: {\n      datasets: Object.values(stats),\n    },\n    options: {\n      scales: {\n        x: {\n          type: 'time',\n        }\n      },\n      plugins: {\n        title: {\n          display: true,\n          text: 'Occupancy at Seattle Bouldering Project Locations',\n        },\n        subtitle: {\n          display: true,\n          text: 'Rolling 7 day view with data updated every 5 minutes',\n        }\n      },\n      interaction: {\n        mode: 'index',\n        intersect: false,\n      },\n    },\n  }\n\n  new Chart(document.getElementById('chart'), chartConfig);\n}"],
  "mappings": "AAAA,MAAM,UACH,KAAK,OAAK,EAAE,QACZ,KAAK;AAER,MAAM,SAAS;AAAA,EACb,KAAK;AAAA,EACL,KAAK;AAAA,EACL,KAAK;AAAA;AAGP,MAAM,QAAQ;AAAA,EACZ,KAAK;AAAA,EACL,KAAK;AAAA,EACL,KAAK;AAAA;AAGP,gBAAgB,OAAO;AACrB,UAAQ,MAAM,OAAO,CAAC,KAAK,MAAM;AAC/B,UAAM,OAAO,OAAO,KAAK;AACzB,UAAM,OAAO,EAAE;AACf,eAAW,OAAO,MAAM;AACtB,UAAI,QAAQ;AACV;AAEF,UAAI,CAAC,IAAI,MAAM;AACb,YAAI,OAAO;AAAA,UACT,OAAO,MAAM;AAAA,UACb,aAAa,OAAO;AAAA,UACpB,iBAAiB,OAAO;AAAA,UACxB,aAAa;AAAA,UACb,SAAS;AAAA,UACT,MAAM;AAAA,UACN,MAAM;AAAA;AAAA;AAGV,UAAI,KAAK,KAAK,KAAK;AAAA,QACjB,GAAG;AAAA,QACH,GAAG,EAAE;AAAA;AAAA;AAGT,WAAO;AAAA,KACN;AAEH,QAAM,cAAc;AAAA,IAClB,MAAM;AAAA,IACN,MAAM;AAAA,MACJ,UAAU,OAAO,OAAO;AAAA;AAAA,IAE1B,SAAS;AAAA,MACP,QAAQ;AAAA,QACN,GAAG;AAAA,UACD,MAAM;AAAA;AAAA;AAAA,MAGV,SAAS;AAAA,QACP,OAAO;AAAA,UACL,SAAS;AAAA,UACT,MAAM;AAAA;AAAA,QAER,UAAU;AAAA,UACR,SAAS;AAAA,UACT,MAAM;AAAA;AAAA;AAAA,MAGV,aAAa;AAAA,QACX,MAAM;AAAA,QACN,WAAW;AAAA;AAAA;AAAA;AAKjB,MAAI,MAAM,SAAS,eAAe,UAAU;AAAA;",
  "names": []
}
